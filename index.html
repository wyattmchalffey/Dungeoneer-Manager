<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Lords Manager - Solo Edition</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/solo-mode.css">
    
    <!-- Favicon -->
    <link rel="icon" href="assets/icons/favicon.ico">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>🏰 Dungeon Lords Manager</h1>
            <p class="subtitle">Train your hero and conquer the depths solo!</p>
            <div class="mode-indicator">
                <span class="mode-badge">👤 Solo Mode</span>
            </div>
        </div>

        <!-- Resource Display -->
        <div class="resource-bar" id="resourceBar"></div>

        <!-- Character Selection Section -->
        <div class="game-section" id="characterSelectionSection">
            <h2>🎭 Choose Your Hero</h2>
            <p class="selection-description">Select one character to train and adventure with:</p>
            <div class="character-selection-container">
                <div class="grid grid-auto" id="characterGrid"></div>
                <div class="selection-actions">
                    <button class="btn btn-primary" onclick="GameManager.confirmCharacter()" id="confirmCharacterBtn" disabled>
                        Select a Character
                    </button>
                </div>
            </div>
        </div>

        <!-- Current Character Display -->
        <div class="game-section" id="characterSection">
            <h2>⚔️ Your Adventurer</h2>
            <div class="character-display-container" id="characterDisplay"></div>
        </div>

        <!-- Actions Section -->
        <div class="game-section hidden" id="actionsSection">
            <h2>🎯 Training & Adventures</h2>
            
            <!-- Quick Training Section -->
            <div class="training-section">
                <h3>💪 Character Training</h3>
                <div class="training-options">
                    <div class="training-type">
                        <h4>General Training</h4>
                        <p>Improve 2-3 random stats moderately</p>
                        <button class="btn btn-training" onclick="ActionManager.trainGeneral()">
                            🎓 General Training (100 gold)
                        </button>
                    </div>
                    
                    <div class="training-type">
                        <h4>Focused Training</h4>
                        <p>Intensive training for specific stats</p>
                        <button class="btn btn-training btn-focused" onclick="UIManager.showTrainingModal()">
                            🎯 Focused Training (150 gold)
                        </button>
                    </div>
                </div>
            </div>

            <!-- Adventure Section -->
            <div class="adventure-section">
                <h3>🗡️ Solo Adventures</h3>
                <div class="adventure-grid">
                    <button class="btn btn-adventure" onclick="ActionManager.showDungeonSelection()">
                        🏰 Explore Dungeons
                    </button>
                    <button class="btn btn-rest" onclick="ActionManager.rest()">
                        💤 Rest & Recover (50 gold)
                    </button>
                    <button class="btn btn-equipment" onclick="ActionManager.buyEquipment()">
                        🛡️ Buy Equipment (200 gold, 10 materials)
                    </button>
                </div>
            </div>

            <!-- Character Management -->
            <div class="character-management">
                <h3>👤 Character Management</h3>
                <div class="management-grid">
                    <button class="btn btn-secondary" onclick="UIManager.showCharacterDetails()">
                        📊 View Details
                    </button>
                    <button class="btn btn-secondary" onclick="UIManager.showStatistics()">
                        📈 Statistics
                    </button>
                    <button class="btn btn-warning" onclick="GameManager.changeCharacter()">
                        🔄 Change Character
                    </button>
                    <button class="btn btn-menu" onclick="UIManager.showGameMenu()">
                        ⚙️ Game Menu
                    </button>
                </div>
            </div>

            <!-- Challenge Section -->
            <div class="challenge-section">
                <button class="btn btn-danger btn-large" onclick="ActionManager.attemptDemonLord()" id="demonLordBtn">
                    👹 Challenge the Demon Lord's Domain
                </button>
                <p class="challenge-warning">⚠️ Only attempt when fully prepared!</p>
            </div>
        </div>

        <!-- Combat Section -->
        <div class="game-section hidden" id="combatSection">
            <h2>⚔️ Combat Log</h2>
            <div class="combat-log-container">
                <div class="combat-log" id="combatLog"></div>
                <div class="combat-controls">
                    <button class="btn hidden" onclick="CombatManager.continue()" id="continueBtn">
                        Continue Adventure
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="game-section hidden" id="resultsSection">
            <h2>📊 Results</h2>
            <div class="results-container">
                <div id="resultsContent"></div>
                <div class="results-actions">
                    <button class="btn btn-primary" onclick="GameManager.nextTurn()">
                        🕐 Next Turn
                    </button>
                    <button class="btn btn-secondary" onclick="UIManager.showSection('actionsSection')">
                        🔙 Back to Actions
                    </button>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h3>Loading Dungeon Lords Manager</h3>
                <p class="loading-subtitle">Solo Edition</p>
                <div class="loading-details">
                    <small>Preparing your solo adventure...</small>
                </div>
            </div>
        </div>

        <!-- Message Container for notifications -->
        <div id="messageContainer" class="message-container"></div>
    </div>

    <!-- Utilities (Load First) -->
    <script src="js/utils/constants.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/validation.js"></script>

    <!-- Game Data (Load Before Core Systems) -->
    <script src="js/data/characters.js"></script>
    <script src="js/data/skills.js"></script>
    <script src="js/data/dungeons.js"></script>
    <script src="js/data/gameData.js"></script>
    
    <!-- Dungeon System (Load Before Core Systems) -->
    <script src="js/systems/dungeonGenerator.js"></script>
    <script src="js/systems/dungeonExploration.js"></script>
    <script src="js/ui/dungeonUI.js"></script>
    
    <!-- Core Systems (Load in Dependency Order) -->
    <script src="js/core/gameState.js"></script>
    <script src="js/core/character.js"></script>
    <script src="js/core/combatManager.js"></script>
    <script src="js/core/actionManager.js"></script>
    <script src="js/core/uiManager.js"></script>
    <script src="js/core/gameManager.js"></script>
    
    <!-- Main Application (Load Last) -->
    <script src="js/main.js"></script>

    <style>
    /* Inline styles for immediate solo mode theming */
    .mode-indicator {
        text-align: center;
        margin-top: 10px;
    }
    
    .mode-badge {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 6px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: bold;
        text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    
    .subtitle {
        margin: 5px 0 0 0;
        color: #bbe1fa;
        font-size: 16px;
    }
    
    .character-selection-container {
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .selection-description {
        text-align: center;
        color: #aaa;
        margin-bottom: 20px;
        font-style: italic;
    }
    
    .selection-actions {
        text-align: center;
        margin-top: 20px;
        padding: 20px;
        border-top: 1px solid #444;
    }
    
    .training-section,
    .adventure-section,
    .character-management,
    .challenge-section {
        margin: 30px 0;
        padding: 20px;
        background: rgba(0,0,0,0.2);
        border-radius: 12px;
        border-left: 4px solid #3282b8;
    }
    
    .training-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 15px;
    }
    
    .training-type {
        padding: 15px;
        background: rgba(255,255,255,0.05);
        border-radius: 8px;
        text-align: center;
    }
    
    .training-type h4 {
        margin: 0 0 8px 0;
        color: #bbe1fa;
    }
    
    .training-type p {
        margin: 0 0 15px 0;
        color: #aaa;
        font-size: 14px;
    }
    
    .btn-training {
        background: linear-gradient(135deg, #2ecc71, #27ae60);
        border: none;
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        font-weight: bold;
        transition: all 0.3s ease;
    }
    
    .btn-training:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);
    }
    
    .btn-focused {
        background: linear-gradient(135deg, #f39c12, #e67e22);
    }
    
    .btn-focused:hover {
        box-shadow: 0 4px 12px rgba(243, 156, 18, 0.3);
    }
    
    .adventure-grid,
    .management-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }
    
    .btn-adventure {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        color: white;
        padding: 15px 20px;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        transition: all 0.3s ease;
    }
    
    .btn-adventure:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
    }
    
    .btn-rest {
        background: linear-gradient(135deg, #9b59b6, #8e44ad);
    }
    
    .btn-rest:hover {
        box-shadow: 0 4px 12px rgba(155, 89, 182, 0.3);
    }
    
    .btn-equipment {
        background: linear-gradient(135deg, #34495e, #2c3e50);
    }
    
    .btn-equipment:hover {
        box-shadow: 0 4px 12px rgba(52, 73, 94, 0.3);
    }
    
    .btn-large {
        width: 100%;
        padding: 20px;
        font-size: 18px;
        margin: 10px 0;
    }
    
    .challenge-warning {
        text-align: center;
        color: #f39c12;
        font-style: italic;
        margin: 10px 0 0 0;
    }
    
    .character-display-container {
        max-width: 1000px;
        margin: 0 auto;
    }
    
    .combat-log-container,
    .results-container {
        max-width: 800px;
        margin: 0 auto;
    }
    
    .results-actions {
        text-align: center;
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #444;
    }
    
    .results-actions .btn {
        margin: 0 10px;
    }
    
    .loading-content {
        text-align: center;
    }
    
    .loading-subtitle {
        color: #3282b8;
        font-weight: bold;
        margin: 10px 0;
    }
    
    /* Responsive design for mobile */
    @media (max-width: 768px) {
        .training-options {
            grid-template-columns: 1fr;
        }
        
        .adventure-grid,
        .management-grid {
            grid-template-columns: 1fr;
        }
        
        .results-actions .btn {
            display: block;
            width: 100%;
            margin: 10px 0;
        }
    }
    </style>
</body>
</html>